---

description: "機能実装用のタスクリストテンプレート"
---

# タスク: [FEATURE NAME]

**入力**: `/specs/[###-feature-name]/` の設計ドキュメント
**前提**: plan.md（必須）、spec.md（ユーザーストーリー必須）、research.md、data-model.md、contracts/

**テスト**: ユニットテストは必須。以下の例ではテストタスクを必ず含める。

**構成**: タスクはユーザーストーリー単位で整理し、各ストーリーを独立に実装・検証可能にする。

## 形式: `[ID] [P?] [Story] 内容`

- **[P]**: 並列実行可能（別ファイル、依存なし）
- **[Story]**: どのユーザーストーリーに属するか（例: US1, US2, US3）
- 説明には正確なファイルパスを含める

## パス規約

- **単一プロジェクト**: `src/`, `tests/`
- **Web アプリ**: `backend/src/`, `frontend/src/`
- **Mobile**: `api/src/`, `ios/src/` または `android/src/`
- 以下は単一プロジェクト前提。plan.md に合わせて調整する。

<!--
  ============================================================================
  重要: 以下のタスクはサンプル。/speckit.tasks は必ず実タスクに置換する。
  ============================================================================
-->

## Phase 1: セットアップ（共通基盤）

**目的**: 初期化と基本構造

- [ ] T001 実装計画に沿ったプロジェクト構成の作成
- [ ] T002 [language] の初期化と [framework] 依存追加
- [ ] T003 [P] リント/フォーマッタ設定

---

## Phase 2: 基盤（ブロッキング前提）

**目的**: すべてのストーリーの前提となる基盤

**⚠️ 重要**: ここが完了するまでストーリー実装は開始しない

- [ ] T004 DB スキーマ/マイグレーション設定
- [ ] T005 [P] 認証/認可の基盤
- [ ] T006 [P] API ルーティング/ミドルウェアの基盤
- [ ] T007 全ストーリー共通のモデル/エンティティ
- [ ] T008 エラーハンドリングとログ基盤
- [ ] T009 環境設定管理の整備

**チェックポイント**: 基盤完成 → ストーリー実装を並行開始可能

---

## Phase 3: ユーザーストーリー1 - [Title]（優先度: P1）🎯 MVP

**目標**: [このストーリーが提供する価値]

**独立テスト**: [単独での検証方法]

### テスト（必須）

> **注意: 実装前にテストを書き、失敗を確認する**

- [ ] T010 [P] [US1] ユニットテスト追加（tests/unit/...）
- [ ] T011 [P] [US1] 追加/変更APIの契約テスト（tests/contract/...）

### 実装

- [ ] T012 [P] [US1] [Entity1] モデル作成 in src/models/[entity1].py
- [ ] T013 [P] [US1] [Entity2] モデル作成 in src/models/[entity2].py
- [ ] T014 [US1] [Service] 実装 in src/services/[service].py（T012, T013 依存）
- [ ] T015 [US1] [endpoint/feature] 実装 in src/[location]/[file].py
- [ ] T016 [US1] バリデーションとエラーハンドリング
- [ ] T017 [US1] 主要処理のログ追加

**チェックポイント**: ストーリー1が単独で機能・検証可能

---

## Phase 4: ユーザーストーリー2 - [Title]（優先度: P2）

**目標**: [このストーリーが提供する価値]

**独立テスト**: [単独での検証方法]

### テスト（必須）

- [ ] T018 [P] [US2] ユニットテスト追加（tests/unit/...）
- [ ] T019 [P] [US2] 追加/変更APIの契約テスト（tests/contract/...）

### 実装

- [ ] T020 [P] [US2] [Entity] モデル作成 in src/models/[entity].py
- [ ] T021 [US2] [Service] 実装 in src/services/[service].py
- [ ] T022 [US2] [endpoint/feature] 実装 in src/[location]/[file].py
- [ ] T023 [US2] ストーリー1との統合（必要時）

**チェックポイント**: ストーリー1・2が独立に機能

---

## Phase 5: ユーザーストーリー3 - [Title]（優先度: P3）

**目標**: [このストーリーが提供する価値]

**独立テスト**: [単独での検証方法]

### テスト（必須）

- [ ] T024 [P] [US3] ユニットテスト追加（tests/unit/...）
- [ ] T025 [P] [US3] 追加/変更APIの契約テスト（tests/contract/...）

### 実装

- [ ] T026 [P] [US3] [Entity] モデル作成 in src/models/[entity].py
- [ ] T027 [US3] [Service] 実装 in src/services/[service].py
- [ ] T028 [US3] [endpoint/feature] 実装 in src/[location]/[file].py

**チェックポイント**: 全ストーリーが独立に機能

---

[必要に応じてストーリー追加]

---

## Phase N: 仕上げ & 横断課題

**目的**: 複数ストーリーにまたがる改善

- [ ] TXXX [P] ドキュメント更新（docs/）
- [ ] TXXX リファクタリング/整理
- [ ] TXXX 性能改善
- [ ] TXXX [P] 追加のユニットテスト（tests/unit/）
- [ ] TXXX セキュリティ強化
- [ ] TXXX quickstart.md 検証

---

## 依存関係と実行順序

### フェーズ依存

- **セットアップ（Phase 1）**: 依存なし
- **基盤（Phase 2）**: セットアップ完了が前提
- **ストーリー（Phase 3+）**: Phase 2 完了が前提
- **仕上げ（Final）**: 必要なストーリー完了が前提

### ストーリー依存

- **ストーリー1（P1）**: Phase 2 完了後に開始
- **ストーリー2（P2）**: Phase 2 完了後に開始（独立テスト可能）
- **ストーリー3（P3）**: Phase 2 完了後に開始（独立テスト可能）

### 各ストーリー内の順序

- テストを先に書き、失敗を確認してから実装
- モデル → サービス → エンドポイントの順

### 並列化の余地

- [P] タスクは並列実行可能
- 基盤完了後はストーリー単位で並列進行可能

---

## 並列例: ストーリー1

```bash
# テストを並列に進める
Task: "ユニットテスト追加（tests/unit/...）"
Task: "契約テスト追加（tests/contract/...）"

# モデル作成を並列に進める
Task: "[Entity1] モデル作成 in src/models/[entity1].py"
Task: "[Entity2] モデル作成 in src/models/[entity2].py"
```

---

## 実装戦略

### MVP優先（ストーリー1のみ）

1. Phase 1 完了
2. Phase 2 完了（ブロッキング）
3. Phase 3 完了
4. **停止して検証**: ストーリー1を単独テスト
5. デプロイ/デモ

### 段階的デリバリ

1. 基盤完成
2. ストーリー1 → テスト → デプロイ/デモ
3. ストーリー2 → テスト → デプロイ/デモ
4. ストーリー3 → テスト → デプロイ/デモ

### 複数人の並列戦略

1. セットアップ + 基盤を全員で完了
2. 完了後にストーリーを分担

---

## Notes

- [P] = 別ファイル/依存なし
- [Story] = 追跡可能なストーリー紐付け
- 各ストーリーは独立して完成・検証可能であること
- 曖昧なタスク、同一ファイル競合、独立性を壊す依存は避ける
